[model].[R$Template].[typeID] не должен быть равен NULL.
Хранимые процедуры создания и изменения шаблона должны быть обёрнуты в транзакцию.